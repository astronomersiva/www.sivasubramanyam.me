let modal=document.querySelector(".modal"),modalImage=document.querySelector(".modal-image"),modalDesc=document.querySelector(".modal-desc");function openModal(o,e){modalImage.src=getCDNUrl(o),modalImage.alt=e,modalDesc.textContent=e,modalImage.onerror=function(){modalImage.src=o,modalImage.onerror=null},modal.style.display="grid",document.body.style.overflowY="hidden",window.location.hash=encodeURI(e)}function closeModal(){modalImage.src="",modalImage.alt="",modalDesc.textContent="",modal.style.display="none",document.body.style.overflowY="auto",history.pushState("",document.title,window.location.pathname),window.history.back()}window.onhashchange=function(){location.hash||closeModal()},document.onkeydown=function(o){27==(o=o||window.event).keyCode&&window.history.back()};